(function(){"use strict";var e={7977:function(e,t,i){var n=i(5471),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},r=[],o={name:"App"},l=o,s=i(1656),d=(0,s.A)(l,a,r,!1,null,null,null),u=d.exports,c=i(173),p=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-wrapper",class:{hideSidebar:!e.sidebarOpen}},[t("Sidebar",{attrs:{open:e.sidebarOpen},on:{"toggle-sidebar":e.toggleSidebar}}),t("div",{staticClass:"main-container"},[t("Navbar",{attrs:{"sidebar-open":e.sidebarOpen},on:{"toggle-sidebar":e.toggleSidebar}}),t("div",{staticClass:"app-main"},["/"===e.$route.path?t("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[t("el-tab-pane",{attrs:{label:"แข่งขันรับงาน",name:"grab"}},[t("el-form",{staticClass:"query-form",attrs:{inline:!0}},[t("el-form-item",{attrs:{label:"ภูมิภาค"}},[t("el-select",{attrs:{placeholder:"กรุณาเลือก",size:"mini"},model:{value:e.region,callback:function(t){e.region=t},expression:"region"}},[t("el-option",{attrs:{label:"B",value:"B"}}),t("el-option",{attrs:{label:"C",value:"C"}}),t("el-option",{attrs:{label:"NE",value:"NE"}})],1)],1),t("el-form-item",{attrs:{label:"ชนิดของรถ"}},[t("el-select",{attrs:{placeholder:"กรุณาเลือก",size:"mini"},model:{value:e.vehicleType,callback:function(t){e.vehicleType=t},expression:"vehicleType"}},[t("el-option",{attrs:{label:"4W",value:"4W"}}),t("el-option",{attrs:{label:"4WJ",value:"4WJ"}}),t("el-option",{attrs:{label:"6W7.2",value:"6W7.2"}})],1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.fetchData}},[e._v("ค้นหา")])],1)],1),t("JobTable",{attrs:{tableData:e.tableData},on:{"open-dialog":e.openDialog}}),t("el-dialog",{attrs:{title:"ยืนยันแข่งขันรับงาน",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t},open:e.initTurnstile,close:e.destroyTurnstile}},[t("p",[e._v("เส้นทาง: "+e._s(e.selectedRow.route))]),t("p",[e._v("ภูมิภาค: "+e._s(e.selectedRow.region))]),t("p",[e._v("ชนิดของรถ: "+e._s(e.selectedRow.vehicleType))]),t("div",{attrs:{id:"turnstile-container"}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",disabled:!e.isCaptchaSolved},on:{click:e.goToDetails}},[e._v("แข่งขันรับงาน")])],1)])],1),t("el-tab-pane",{attrs:{label:"รายการของฉัน",name:"my-list"}},[t("p",[e._v("ยังไม่มีข้อมูล")])])],1):e._e(),t("router-view")],1)],1)],1)},h=[],m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sidebar-container"},[t("el-menu",{staticClass:"el-menu--collapse",attrs:{collapse:!0}},[t("el-menu-item",{attrs:{index:"1"},on:{click:function(t){return e.$router.push("/")}}},[t("i",{staticClass:"el-icon-house"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("Home")])]),t("el-menu-item",{attrs:{index:"2"},on:{click:function(t){return e.$router.push("/")}}},[t("i",{staticClass:"el-icon-document"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("แข่งขันรับงาน")])])],1)],1)},f=[],b={},g=b,v=(0,s.A)(g,m,f,!1,null,"37624273",null),y=v.exports,w=function(){var e=this,t=e._self._c;return t("div",{staticClass:"navbar"},[e._m(0),t("el-breadcrumb",{staticClass:"app-breadcrumb"},[t("el-breadcrumb-item",[e._v("แข่งขันรับงาน")])],1)],1)},T=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"hamburger-container"},[t("i",{staticClass:"el-icon-s-unfold"})])}],_={},R=_,M=(0,s.A)(R,w,T,!1,null,"31381cbc",null),C=M.exports,S=function(){var e=this,t=e._self._c;return t("el-table",{staticClass:"custom-table",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[t("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("p",[e._v("รายละเอียดเพิ่มเติม: "+e._s(i.row.route))])]}}])}),e._e(),t("el-table-column",{attrs:{prop:"route",label:"เส้นทาง",width:"220","min-width":"120"}}),t("el-table-column",{attrs:{prop:"region",label:"ภูมิภาค",width:"150","min-width":"80"}}),t("el-table-column",{attrs:{prop:"vehicleType",label:"ชนิดของรถ",width:"150","min-width":"100"}}),t("el-table-column",{attrs:{prop:"distance",label:"ระยะทางรวม (KM)",width:"150","min-width":"100"}}),t("el-table-column",{attrs:{prop:"endTime",label:"เวลาสิ้นสุดการแข่งขันรับงาน",width:"240","min-width":"150"}}),t("el-table-column",{attrs:{prop:"remainingTime",label:"เหลือเวลาสิ้นสุดแข่งขันรับงาน",width:"240","min-width":"130"}}),t("el-table-column",{attrs:{prop:"expectedArrival",label:"เวลาคาดว่าที่จะถึง",width:"200","min-width":"130"}}),t("el-table-column",{attrs:{prop:"fare",label:"ค่าเที่ยว",width:"120","min-width":"100"}}),t("el-table-column",{attrs:{label:"ดำเนินการ",width:"120","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button",{staticClass:"grab-single",attrs:{type:"text"},on:{click:function(t){return e.handleOpenDialog(i.row)}}},[e._v("แข่งขันรับงาน")])]}}])})],1)},x=[],A={props:{tableData:{type:Array,required:!0}},methods:{handleOpenDialog(e){this.$emit("open-dialog",e)}}},D=A,O=(0,s.A)(D,S,x,!1,null,"6fc2d732",null),N=O.exports,W=i(1052),k=i.n(W);const $=[{id:1,route:"2BKI-LAS",region:"B",vehicleType:"4W",distance:30,endTime:"03-03-2025 19:00",remainingTime:"4h 7m",expectedArrival:"03-03-2025 20:00",fare:790},{id:2,route:"2NGA-EA1",region:"C",vehicleType:"4WJ",distance:74,endTime:"03-03-2025 19:00",remainingTime:"4h 7m",expectedArrival:"03-03-2025 20:00",fare:1620},{id:3,route:"NMD-BPLL",region:"B",vehicleType:"4WJ",distance:29,endTime:"03-03-2025 18:30",remainingTime:"3h 37m",expectedArrival:"03-03-2025 19:30",fare:1210},{id:4,route:"TCG-CT1",region:"B",vehicleType:"4WJ",distance:17,endTime:"03-03-2025 19:10",remainingTime:"4h 17m",expectedArrival:"03-03-2025 20:10",fare:1010},{id:5,route:"NE6-NE2",region:"NE",vehicleType:"4WJ",distance:203,endTime:"03-03-2025 20:00",remainingTime:"5h 7m",expectedArrival:"03-03-2025 21:00",fare:3030}];var E={components:{Sidebar:y,Navbar:C,JobTable:N},data(){return{sidebarOpen:!0,activeTab:"grab",region:"",vehicleType:"",tableData:[...$],dialogVisible:!1,selectedRow:{},turnstileWidgetId:null,isCaptchaSolved:!1}},methods:{openDialog(e){this.selectedRow=e,this.dialogVisible=!0},initTurnstile(){const e=document.createElement("script");e.src="https://challenges.cloudflare.com/turnstile/v0/api.js",e.async=!0,e.defer=!0,document.head.appendChild(e),e.onload=()=>{window.turnstile&&(this.turnstileWidgetId=window.turnstile.render("#turnstile-container",{sitekey:"0x4AAAAAAA7SN9BgICU6k8R5",callback:e=>{this.isCaptchaSolved=!0}}))}},destroyTurnstile(){this.turnstileWidgetId&&window.turnstile&&(window.turnstile.remove(this.turnstileWidgetId),this.turnstileWidgetId=null,this.isCaptchaSolved=!1)},toggleSidebar(){this.sidebarOpen=!this.sidebarOpen},fetchData(){console.log("ค้นหาด้วย:",this.region,this.vehicleType),setTimeout((()=>{const e=this.generateNewData();this.tableData=[...$,...e],this.showRandomNotification()}),500)},showRandomNotification(){const e=Math.floor(2e3*Math.random())+1e3;setTimeout((()=>{(0,W.Notification)({title:"ข้อมูล",message:"อัพเดตแข่งขันรับงาน",type:"info",duration:2e3})}),e)},generateNewData(){const e=[],t=10,i=this.generateRoutePrefix();for(let n=6;n<=t;n++)e.push({id:n,route:`${i}-${this.generateRouteSuffix(n)}`,region:this.getRandomRegion(),vehicleType:this.getRandomVehicleType(),distance:this.getRandomDistance(),endTime:this.getRandomEndTime(),remainingTime:this.getRandomRemainingTime(),expectedArrival:this.getRandomExpectedArrival(),fare:this.getRandomFare()});return e},generateRoutePrefix(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let t="";for(let i=0;i<2;i++)t+=e[Math.floor(Math.random()*e.length)];return t},generateRouteSuffix(e){const t=e,i="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let n="";for(let a=0;a<2;a++)n+=i[Math.floor(Math.random()*i.length)];return`${t}${n}`},getRandomRegion(){const e=["B","C","NE"];return e[Math.floor(Math.random()*e.length)]},getRandomVehicleType(){const e=["4W","4WJ","6W7.2"];return e[Math.floor(Math.random()*e.length)]},getRandomDistance(){return Math.floor(200*Math.random())+10},getRandomEndTime(){const e=new Date;return e.setDate(e.getDate()+Math.floor(7*Math.random())+1),e.setHours(this.getRandomHours()),e.setMinutes(this.getRandomMinutes()),e.toLocaleString("en-GB")},getRandomRemainingTime(){return`${this.getRandomHours()}h ${this.getRandomMinutes()}m`},getRandomExpectedArrival(){const e=new Date;return e.setDate(e.getDate()+Math.floor(7*Math.random())+1),e.setHours(this.getRandomHours()),e.setMinutes(this.getRandomMinutes()),e.toLocaleString("en-GB")},getRandomFare(){return Math.floor(2e3*Math.random())+500},getRandomHours(){return Math.floor(24*Math.random())},getRandomMinutes(){return Math.floor(60*Math.random())},goToDetails(){if(window.turnstile){const e=window.turnstile.getResponse(this.turnstileWidgetId);e?((0,W.Notification)({title:"สำเร็จ",message:`ยืนยันการแข่งขันรับงานสำเร็จ. Turnstile Token: ${e}`,type:"success"}),this.dialogVisible=!1,this.$router.push({name:"Details",params:{id:this.selectedRow.id}})):(0,W.Notification)({title:"คำเตือน",message:"กรุณาทำ turnstile ให้สำเร็จ",type:"warning"})}}}},B=E,J=(0,s.A)(B,p,h,!1,null,"ccafbbb8",null),I=J.exports,j=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-wrapper",class:{hideSidebar:!e.sidebarOpen}},[t("Sidebar",{attrs:{open:e.sidebarOpen},on:{"toggle-sidebar":e.toggleSidebar}}),t("div",{staticClass:"main-container"},[t("Navbar",{attrs:{"sidebar-open":e.sidebarOpen},on:{"toggle-sidebar":e.toggleSidebar}}),t("div",{staticClass:"app-main"},[t("div",{staticClass:"details"},[t("h1",[e._v("รายละเอียดงาน: "+e._s(e.route))]),t("p",[e._v("ภูมิภาค: "+e._s(e.region))]),t("p",[e._v("ชนิดของรถ: "+e._s(e.vehicleType))]),t("p",[e._v("ระยะทาง: "+e._s(e.distance)+" KM")]),t("p",[e._v("ค่าเที่ยว: "+e._s(e.fare)+" บาท")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.$router.push("/")}}},[e._v("กลับไปหน้าแรก")])],1)])],1)],1)},H=[],P={name:"Details",components:{Sidebar:y,Navbar:C},data(){return{sidebarOpen:!0}},computed:{route(){return this.$route.query.route||"ไม่ระบุ"},region(){return this.$route.query.region||"ไม่ระบุ"},vehicleType(){return this.$route.query.vehicleType||"ไม่ระบุ"},distance(){return this.$route.query.distance||"ไม่ระบุ"},fare(){return this.$route.query.fare||"ไม่ระบุ"}},methods:{toggleSidebar(){this.sidebarOpen=!this.sidebarOpen}}},V=P,q=(0,s.A)(V,j,H,!1,null,"3393f1cd",null),L=q.exports;n["default"].use(c.Ay);var G=new c.Ay({mode:"history",routes:[{path:"/",component:I},{path:"/details/:id",name:"Details",component:L,props:!0},{path:"*",redirect:"/"}]});n["default"].use(k()),n["default"].use(G),new n["default"]({router:G,render:e=>e(u)}).$mount("#app")}},t={};function i(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={id:n,loaded:!1,exports:{}};return e[n](r,r.exports,i),r.loaded=!0,r.exports}i.m=e,function(){i.amdO={}}(),function(){var e=[];i.O=function(t,n,a,r){if(!n){var o=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],r=e[u][2];for(var l=!0,s=0;s<n.length;s++)(!1&r||o>=r)&&Object.keys(i.O).every((function(e){return i.O[e](n[s])}))?n.splice(s--,1):(l=!1,r<o&&(o=r));if(l){e.splice(u--,1);var d=a();void 0!==d&&(t=d)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,a,r]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,r,o=n[0],l=n[1],s=n[2],d=0;if(o.some((function(t){return 0!==e[t]}))){for(a in l)i.o(l,a)&&(i.m[a]=l[a]);if(s)var u=s(i)}for(t&&t(n);d<o.length;d++)r=o[d],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(u)},n=self["webpackChunklogistics_app"]=self["webpackChunklogistics_app"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[504],(function(){return i(7977)}));n=i.O(n)})();
//# sourceMappingURL=app.d86a04dc.js.map